<div class="auth-wrapper align-items-stretch aut-bg-img">
  <div class="flex-grow-1">
    <div class="h-100 d-md-flex align-items-center auth-side-img">
      <div class="col-sm-10 auth-content w-auto">
        <!-- <div class="col-sm-10 auth-content w-auto text-center" style="height: 90%; position: relative; display: inline-block; overflow: hidden;">
        </div> -->
        <img src="assets/images/auth/trisaktii.png" alt="" class="img-login landscape mb-4">
        <h4 class="text-white font-weight-normal">{{ 'LOGIN.welcome_to' | translate }}</h4>
        <h2 class="text-white text-capitalize">{{ defApp }}</h2>
        <h5 class="text-white font-weight-normal">Universitas Trisakti </h5>
        <img src="assets/images/auth/auth-logo.png" alt="" class="img-fluid mt-4">
        <!-- <particles [params]="myParams" [style]="myStyle" [width]="width" [height]="height"></particles> -->
      </div>
    </div>
    <div class="auth-side-form">
      <div class=" auth-content">
        <form [formGroup]="loginForm" (submit)="doLogin($event)" class="md-float-material form-material" action="javascript:">
          <img src="assets/images/auth/trisakti-blue.png" alt="" style="margin: auto;" class="mb-4 d-block d-xl-none d-lg-none img-login">
          <h5 class="text-c-blue text-center f-w-400 text-uppercase d-none d-xl-block d-lg-block">{{ defApp }}</h5>
          <h5 class="text-c-blue text-center f-w-400 text-uppercase d-none d-xl-block d-lg-block">Universitas Trisakti</h5>
          <h5 class="text-c-blue text-center f-w-400 text-uppercase d-block d-xl-none d-lg-none">{{ defApp }}</h5>
          <h5 class="text-c-blue text-center f-w-400 text-uppercase d-block d-xl-none d-lg-none">Universitas Trisakti</h5>
          <div class="input-group mb-3">
            <input type="text" class="form-control" name="username" required formControlName="username" placeholder="Username SSO" [ngClass]="loginForm.controls.username.invalid && (loginForm.controls.username.dirty || loginForm.controls.username.touched)?'is-invalid':(loginForm.controls.username.valid?'is-valid':'')">
            <label *ngIf="{'is-invalid': loginForm.controls.username.invalid && (loginForm.controls.username.dirty || loginForm.controls.username.touched)}" id="validation-email-error" class="error jquery-validation-error small form-text invalid-feedback">Please input username.</label>
          </div>
          <div class="input-group mb-4">
            <input [type]="passwordHidden?'password':'text'" class="form-control pwd-custom" name="password" required formControlName="password" placeholder="Password" [ngClass]="loginForm.controls.password.invalid && (loginForm.controls.password.dirty || loginForm.controls.password.touched)?'is-invalid':(loginForm.controls.password.valid?'is-valid':'')">
            <button type="button" class="btn btn-sm btn-pwd" (click)="passwordHidden = !passwordHidden">
              <i class="fa fa-{{ passwordHidden?'eye':'eye-slash' }}"></i>
            </button>
            <label *ngIf="{'is-invalid': loginForm.controls.password.invalid && (loginForm.controls.password.dirty || loginForm.controls.password.touched)}" id="validation-password-error" class="error jquery-validation-error small form-text invalid-feedback">Please enter password.</label>
          </div>
          <button class="btn btn-primary event-btn btn-block mb-0" type="submit" [disabled]="loginForm.invalid || loading">
            <span *ngIf="this.loading" class="spinner-border spinner-border-sm" role="status"></span>
            <span *ngIf="this.loading" class="load-text"> Loading...</span>
            <span *ngIf="!this.loading" class="btn-text">Login</span>
          </button>
          <a href="javascript:" (click)="showForgotPasswordForm()" > <p class="mt-3 mb-0 text-center" style="color: cornflowerblue;"><i class="icofont icofont-lock"></i> {{ 'CONTENT.forgot-password' | translate }} ?</p></a>
          <p class="mt-2 text-center f-w-400 d-none d-xl-block d-lg-block">Belum memiliki akun?
            <a [routerLink]="['/auth/signup']" style="color: cornflowerblue;"> {{ 'CONTENT.signup' | translate }}</a>
          </p>
          <p class="mt-2 text-center text-inverse f-w-400 d-block d-xl-none d-lg-none">Belum memiliki akun? 
            <a [routerLink]="['/auth/signup']" style="color: cornflowerblue;"> {{ 'CONTENT.signup' | translate }}</a>
          </p>
          <div class="text-center">
            <div class="saprator cust my-4 d-block d-xl-none d-lg-none"><span style="font-size: 12px;">Powered By:</span></div>
            <img src="assets/images/auth/SITU.png" alt="" style="max-width: 50%; margin: auto;" class="img-fluid mb-4 d-block d-xl-none d-lg-none">
          </div>
        </form>
      </div>
    </div>
    <!-- <div class="background-bokeh">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div> -->
  </div>
</div>

<app-ui-modal #forgotPasswordModal dialogClass="modal-dialog-centered modal-l" [containerClick]="false">
  <div class="app-modal-header">
    <h5 style="text-align:center">{{ 'CONTENT.forgot-password' | translate }}</h5>
    <button type="button" class="close basic-close" data-dismiss="modal" aria-label="Close" (click)="forgotPasswordModal.hide()"><span aria-hidden="true">&times;</span></button>
  </div>
  <div class="app-modal-body">
    <form class="md-float-material form-material" action="javascript:" [formGroup]="forgotPasswordForm" (ngSubmit)="sendEmailForgotPassword()">
      <p>Masukkan email pemulihan untuk menemukan akun anda</p>
      <div class="form-group mb-2">
        <label class="form-label m-b-0 f-w-600">{{ 'CONTENT.email' | translate }}</label>
        <input type="email" class="form-control" pattern="^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+$"
        oninput="setCustomValidity('')"  required [placeholder]="'CONTENT.email' | translate" formControlName="email"
        [ngClass]="forgotPasswordForm.controls.email.invalid && (forgotPasswordForm.controls.email.dirty || forgotPasswordForm.controls.email.touched)?'is-invalid':(forgotPasswordForm.controls.email.valid?'is-valid':'')">
        <label *ngIf="forgotPasswordForm.controls.email.invalid && (forgotPasswordForm.controls.email.dirty || forgotPasswordForm.controls.email.touched )" id="validation-email-error"
        class="error jquery-validation-error small form-text invalid-feedback">{{ 'CONTENT.email-match' | translate}}</label>
    </div>
    <div class="form-group mb-0 mt-4 text-center">
      <button type="submit" class="btn btn-primary btn-sm" [disabled]="!forgotPasswordForm.valid || loadingPass">
        <!-- <i class="ti-save"></i>  -->
        <span *ngIf="this.loadingPass" class="spinner-border spinner-border-sm" role="status"></span>
        <span *ngIf="this.loadingPass" class="load-text"> Loading...</span>
        <span *ngIf="!this.loadingPass" class="btn-text"><i class="icofont icofont-paper-plane"></i> {{ 'ROOT.submit' | translate }}</span>
      </button>
    </div>
    </form>
  </div>
</app-ui-modal>

